"use strict";(globalThis.webpackChunkphysical_ai_book=globalThis.webpackChunkphysical_ai_book||[]).push([[78],{3490:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"module-1-ros2/chapter-4-building-packages","title":"Chapter 4 - Building Packages","description":"Learning Objectives","source":"@site/docs/module-1-ros2/chapter-4-building-packages.mdx","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/chapter-4-building-packages","permalink":"/humanoid-robotics/docs/module-1-ros2/chapter-4-building-packages","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedBy":"Muhammad Uzair","lastUpdatedAt":1765045729000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Chapter 4 - Building Packages"},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 3 - Communication Patterns","permalink":"/humanoid-robotics/docs/module-1-ros2/chapter-3-communication-patterns"},"next":{"title":"Chapter 5 - URDF","permalink":"/humanoid-robotics/docs/module-1-ros2/chapter-5-urdf"}}');var i=a(4848),s=a(8453);const t={sidebar_position:4,title:"Chapter 4 - Building Packages"},c="Chapter 4: Building Packages",l={},o=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Content with Code Examples",id:"content-with-code-examples",level:2},{value:"Mermaid Diagrams",id:"mermaid-diagrams",level:2},{value:"Callouts",id:"callouts",level:2},{value:"Exercises",id:"exercises",level:2},{value:"Key Takeaways",id:"key-takeaways",level:2}];function d(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"chapter-4-building-packages",children:"Chapter 4: Building Packages"})}),"\n",(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsx)(n.p,{children:"After completing this chapter, you should be able to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Create ROS2 packages with proper structure"}),"\n",(0,i.jsx)(n.li,{children:"Use CMake and colcon for building"}),"\n",(0,i.jsx)(n.li,{children:"Manage dependencies in ROS2 packages"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"content-with-code-examples",children:"Content with Code Examples"}),"\n",(0,i.jsx)(n.p,{children:"A ROS2 package follows a specific structure with CMakeLists.txt for C++ packages or setup.py for Python packages. The colcon build system is used to compile packages."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cmake",children:'# CMakeLists.txt example\r\ncmake_minimum_required(VERSION 3.8)\r\nproject(my_robot_package)\r\n\r\nif(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")\r\n  add_compile_options(-Wall -Wextra -Wpedantic)\r\nendif()\r\n\r\n# Find dependencies\r\nfind_package(ament_cmake REQUIRED)\r\nfind_package(rclcpp REQUIRED)\r\nfind_package(std_msgs REQUIRED)\r\n\r\n# Add executable\r\nadd_executable(talker src/talker.cpp)\r\nament_target_dependencies(talker rclcpp std_msgs)\r\n\r\n# Install executables\r\ninstall(TARGETS\r\n  talker\r\n  DESTINATION lib/${PROJECT_NAME}\r\n)\r\n\r\nament_package()\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# setup.py example for Python package\r\nfrom setuptools import setup\r\n\r\npackage_name = 'my_robot_package'\r\n\r\nsetup(\r\n    name=package_name,\r\n    version='0.0.0',\r\n    packages=[package_name],\r\n    data_files=[\r\n        ('share/ament_index/resource_index/packages',\r\n            ['resource/' + package_name]),\r\n        ('share/' + package_name, ['package.xml']),\r\n    ],\r\n    install_requires=['setuptools'],\r\n    zip_safe=True,\r\n    maintainer='Your Name',\r\n    maintainer_email='your.email@example.com',\r\n    description='TODO: Package description',\r\n    license='TODO: License declaration',\r\n    tests_require=['pytest'],\r\n    entry_points={\r\n        'console_scripts': [\r\n            'talker = my_robot_package.talker:main',\r\n        ],\r\n    },\r\n)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"mermaid-diagrams",children:"Mermaid Diagrams"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-mermaid",children:"graph TD;\r\n    A[ROS2 Package] --\x3e B[CMakeLists.txt]\r\n    A --\x3e C[package.xml]\r\n    A --\x3e D[src/ directory]\r\n    A --\x3e E[include/ directory]\r\n    A --\x3e F[test/ directory]\r\n    D --\x3e G[C++ source files]\r\n    E --\x3e H[Header files]\r\n    F --\x3e I[Unit tests]\n"})}),"\n",(0,i.jsx)(n.h2,{id:"callouts",children:"Callouts"}),"\n",(0,i.jsx)(n.admonition,{title:"Key Concept",type:"info",children:(0,i.jsx)(n.p,{children:"Each ROS2 package should have a single, well-defined purpose and be easily reusable in other projects. Follow the single responsibility principle."})}),"\n",(0,i.jsx)(n.admonition,{title:"Best Practice",type:"tip",children:(0,i.jsx)(n.p,{children:"Use meaningful names for your packages and document their purpose in the package.xml file. Include maintainers, license, and dependencies."})}),"\n",(0,i.jsx)(n.admonition,{title:"Important",type:"warning",children:(0,i.jsx)(n.p,{children:"Always run tests before building and ensure your package doesn't have circular dependencies."})}),"\n",(0,i.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Create a new ROS2 package with a simple publisher node"}),"\n",(0,i.jsx)(n.li,{children:"Add dependencies to your package and use them"}),"\n",(0,i.jsx)(n.li,{children:"Write and run unit tests for your package"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Packages have standardized structure and configuration files"}),"\n",(0,i.jsx)(n.li,{children:"CMakeLists.txt for C++ packages, setup.py for Python packages"}),"\n",(0,i.jsx)(n.li,{children:"Proper dependency management is crucial"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>c});var r=a(6540);const i={},s=r.createContext(i);function t(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);